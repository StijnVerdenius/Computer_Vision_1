function [] = get_random_matchpoints(image1, image2)

I1 = rgb2gray(imread(image1));
I2 = rgb2gray(imread(image2));
I2 = imresize(I2,size(I1));

I1 = im2single(I1);
I2 = im2single(I2);


images = [string(image1) string(image2)];

[k1,d1] = vl_sift(I1);
[k2,d2] = vl_sift(I2);


[m, scores] = vl_ubcmatch(d1, d2);

permutations = randperm(size(m,2));
subset = permutations(1:10);


figure(1)

% subplot(1,2,1)
% image(imread(image1));
% h1 = vl_plotframe(k1(:,m(1,sel))) ;
% set(h1,'color','b','linewidth',3) ;
% 
% % 
% subplot(1,2,2)
% image(imread(image2));
% h2 = vl_plotframe(k2(:,m(2,sel))) ;
% set(h2,'color','y','linewidth',2) ;

imshowpair(I1, I2 , 'montage')
% 
f1 = vl_plotframe(k1(:,m(1,subset)));
set(f1,'color','b','linewidth',3) ;
% 
k2(1,:) = k2(1,:) + size(I1,2);
% 
f2 = vl_plotframe(k2(:,m(2,subset)));
set(f2,'color','y','linewidth',2) ;

x1 = k1(1,m(1,s)) ;
x2 = k2(1,m(2,sel));
y1 = k1(2,m(1,sel)) ;
y2 = k2(2,m(2,sel)) ;

f3 = line([x1 ; x2], [y1 ; y2]) ;
set(f3,'linewidth', 1, 'color', 'r') ;

end
